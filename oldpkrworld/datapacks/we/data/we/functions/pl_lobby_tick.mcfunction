






#music
execute positioned 67.47 7.00 -41.48 unless entity @s[distance=..6] positioned 61.41 6.38 -42.36 unless entity @s[distance=..1.5] run tag @s add not_in_music
particle minecraft:note 67.47 7.00 -41.48 0.1 0.1 0.1 10 1 force @s[tag=!not_in_music]
execute positioned 67.47 7.00 -41.48 if entity @s[tag=!not_in_music,tag=!ignore_music] run function we:pl_lobby_music_get
execute positioned 67.47 7.00 -41.48 if entity @s[tag=ignore_music,tag=not_in_music] run function we:pl_lobby_music_lose
tag @s remove not_in_music

#if in intro
execute if entity @s[tag=!ingame] run function we:pl_lobby_intro

#actionbarb_
execute if score @s top_list matches 1..15399 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Dirt","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 15400..16449 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Wood","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 16450..16949 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Stone","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 16950..19299 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Coal","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 17300..17599 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Copper","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 17600..18079 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Iron","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 18080..18369 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Gold","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 18370..18679 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Diamond","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 18680..18809 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Emerald","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 18810..18979 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Netherite","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 18980..19139 run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Obsidian","color":"blue"},{"text":"]","color":"black"}]
execute if score @s top_list matches 19140.. run title @s[tag=ingame] actionbar ["",{"text":"[","color":"black"},{"text":"Least Fails: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_fails"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Best Time: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_timer_hour"},"color":"aqua"},{"text":"h,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_min"},"color":"aqua"},{"text":"m,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_sec"},"color":"aqua"},{"text":"s,","color":"aqua"},{"score":{"name":"@s","objective":"b_timer_tick"},"color":"aqua"},{"text":"t","color":"aqua"},{"text":"] [","color":"black"},{"text":"Least Jumps: ","color":"dark_aqua"},{"score":{"name":"@s","objective":"b_jumps"},"color":"aqua"},{"text":"] [","color":"black"},{"text":"Rank:","color":"dark_blue"},{"text":" Bedrock","color":"blue"},{"text":"]","color":"black"}]

#start parkour
execute positioned 63.97 7.00 -33.00 if entity @s[distance=..2,tag=ingame] positioned 59 6 -38 rotated -48.5 13.4 unless score @s win_timer matches 1..9999 run function we:pl_gm_start

#if too far away
execute if entity @s[tag=ingame] if block ~ ~ ~ lava run tp @s 58.23 6.50 -37.26 -51 4
execute if entity @s[tag=ingame] if entity @s[y=-10,dy=11] run tp @s 58.23 6.50 -37.26 -51 4





